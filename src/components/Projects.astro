---
const projects = [

    {
        title: {
            spanish: "MiSintaxis",
            english: "MiSintaxis",
        },
        description: {
            spanish: "Aplicación Móvil gamificada que ayuda a estudiantes de secundaria con la sintaxis del español, contando con un LLM fintuneado desplegado en AWS, que analiza de forma automática cualquier frase. Con 100.000 estudiantes, ha sido premiada en múltiples ocasiones en la región de murcia. Desarrollada durante mi etapa universitaria, llegando a dirigir a un grupo de 4 Ingenieros y una diseñadora.",
            english: "Gamified mobile application that helps high school students with Spanish syntax, featuring a fine-tuned LLM deployed on AWS that automatically analyzes any sentence. With 100,000 students, it has been awarded multiple times in the Murcia region. Developed during my university stage, leading a team of 4 engineers and a designer.",
        },
        image: "/assets/projects/misintaxis.png",
        www: "https://misintaxis5.wordpress.com",
        playStore: "https://play.google.com/store/apps/details?id=com.francortes.analizame&hl=es",
        technologies: ["Flutter", "Dart", "Firebase"]
    },

    {
        title: {
            spanish: "Turbine",
            english: "Turbine",
        },
        description: {
            spanish: "Videojuego móvil desarrollado usando C#, Unity3D y blender durante mi etapa en el instituto. El objetivo es aguantar todos los niveles posibles cogiendo estrellas sin que el láser, el tiempo o una caída te eliminen",
            english: "Mobile game developed using C#, Unity3D and Blender during my high school years. The objective is to survive as many levels as possible by collecting stars without being eliminated by the laser, time, or falling.",
        },
        image: "/assets/projects/turbine.webp",
        video: "https://www.youtube.com/watch?v=NnEbpTSegqw",
        technologies: ["CSharp", "unity"],
    },

    {
        title: {
            spanish: "Sistema de Recomendación de Películas",
            english: "Movie recommendation system",
        },
        description: {
            spanish: "Sistema de recomendación de películas híbrido basado en collaborative, content and knowledge-based filtering",
            english: "Movie Recommendation System hybrid based in collaborative, content and knowledge-based filtering",
        },
        image: "/assets/projects/hybrid_recommender_system.png",
        github: "https://github.com/francordel/recommender-system",
        technologies: ["Java"],
    }
];

import ProjectCard from "../widgets/ProjectCard.astro";

const { currentLanguage } = Astro.props;
---

<section id="projects" class="projects">
    <div class="projects-wrapper">
        <div class="projects-header">
            <h1 class="section-title" id="project-title" data-i18n="projects-title">
                {currentLanguage === 'spanish' ? 'Proyectos' : 'Projects'}
            </h1>
            <p class="projects-subtitle" data-i18n="projects-subtitle">
                {currentLanguage === 'spanish' ? 'Desarrollos destacados que reflejan mi experiencia técnica' : 'Featured developments that reflect my technical experience'}
            </p>
        </div>
        <div class="projects-container">
            {
                projects.map((project, index) => (
                    <ProjectCard project={project} index={index} key={project.title} language={currentLanguage} />
                ))
            }
        </div>
    </div>
</section>

<script>
    // Actualizar cuando cambia el idioma
    document.addEventListener('languageChanged', (event) => {
        if (event instanceof CustomEvent && event.detail && event.detail.language) {
            // El título se actualiza automáticamente a través del sistema central de traducciones
            // No necesitamos actualizar las tarjetas de proyectos aquí porque se manejan en ProjectCard.astro
        }
    });
</script>

<style>
    .projects {
        background-color: var(--background-color);
        padding: 6rem 0;
        min-height: 100vh;
    }

    .projects-wrapper {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
    }

    .projects-header {
        text-align: center;
        margin-bottom: 4rem;
    }

    .section-title {
        font-size: 4rem;
        font-weight: 800;
        color: var(--blue-titles-color);
        margin-bottom: 1rem;
        position: relative;
    }

    .section-title::after {
        content: '';
        position: absolute;
        bottom: -0.5rem;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: linear-gradient(90deg, transparent, var(--blue-titles-color), transparent);
        border-radius: 2px;
    }

    .projects-subtitle {
        font-size: 1.2rem;
        color: var(--text-color-p);
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
        opacity: 0.9;
    }

    .projects-container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 4rem;
        margin-top: 3rem;
    }

    /* Animations */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .section-title {
        animation: fadeInUp 0.6s ease-out;
    }

    .projects-subtitle {
        animation: fadeInUp 0.6s ease-out 0.2s both;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .projects {
            padding: 4rem 0;
        }

        .projects-wrapper {
            padding: 0 1rem;
        }

        .section-title {
            font-size: 2.5rem;
        }

        .projects-subtitle {
            font-size: 1rem;
        }

        .projects-container {
            gap: 2rem;
        }
    }

    @media (max-width: 480px) {
        .section-title {
            font-size: 2rem;
        }

        .projects-subtitle {
            font-size: 0.9rem;
        }
    }
</style>
